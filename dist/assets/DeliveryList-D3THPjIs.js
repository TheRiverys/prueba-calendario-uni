import{r as U,t as D,d as m,c as L,j as e,S as O,a as A,b as X,e as T,f as q,P as V,C as w,g as G,h as R,i as M,k as P,l as C,m as g,n as v,p as f,o as $,A as k,q as h,s as Y,B as p,u as Q}from"./index-B1LHeGs3.js";import{P as J,T as K}from"./trash-2-DAIbddRg.js";function E(r,t){var n=r.getFullYear()-t.getFullYear()||r.getMonth()-t.getMonth()||r.getDate()-t.getDate()||r.getHours()-t.getHours()||r.getMinutes()-t.getMinutes()||r.getSeconds()-t.getSeconds()||r.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function b(r,t){U(2,arguments);var n=D(r),i=D(t),s=E(n,i),d=Math.abs(m(n,i));n.setDate(n.getDate()-s*d);var u=+(E(n,i)===-s),a=s*(d-u);return a===0?0:a}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=L("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Z=X("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c({className:r,variant:t,asChild:n=!1,...i}){const s=n?O:"span";return e.jsx(s,{"data-slot":"badge",className:A(Z({variant:t}),r),...i})}var j="Progress",N=100,[ee]=q(j),[ae,re]=ee(j),_=T.forwardRef((r,t)=>{const{__scopeProgress:n,value:i=null,max:s,getValueLabel:d=se,...u}=r;(s||s===0)&&!I(s)&&console.error(te(`${s}`,"Progress"));const a=I(s)?s:N;i!==null&&!S(i,a)&&console.error(ne(`${i}`,"Progress"));const l=S(i,a)?i:null,o=x(l)?d(l,a):void 0;return e.jsx(ae,{scope:n,value:l,max:a,children:e.jsx(V.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":x(l)?l:void 0,"aria-valuetext":o,role:"progressbar","data-state":F(l,a),"data-value":l??void 0,"data-max":a,...u,ref:t})})});_.displayName=j;var z="ProgressIndicator",B=T.forwardRef((r,t)=>{const{__scopeProgress:n,...i}=r,s=re(z,n);return e.jsx(V.div,{"data-state":F(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...i,ref:t})});B.displayName=z;function se(r,t){return`${Math.round(r/t*100)}%`}function F(r,t){return r==null?"indeterminate":r===t?"complete":"loading"}function x(r){return typeof r=="number"}function I(r){return x(r)&&!isNaN(r)&&r>0}function S(r,t){return x(r)&&!isNaN(r)&&r<=t&&r>=0}function te(r,t){return`Invalid prop \`max\` of value \`${r}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${N}\`.`}function ne(r,t){return`Invalid prop \`value\` of value \`${r}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${N} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var le=_,ie=B;function oe({className:r,value:t,...n}){return e.jsx(le,{"data-slot":"progress",className:A("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",r),...n,children:e.jsx(ie,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}const ue=({schedule:r,onEdit:t,onDelete:n,onToggleComplete:i})=>{const s=new Date,d=a=>{const l=f(a),o=b(l,s);return h(l,s)?e.jsxs(c,{variant:"destructive",className:"flex items-center",children:[e.jsx(W,{className:"w-3 h-3 mr-1"}),"Vencida"]}):o<=3?e.jsxs(c,{variant:"secondary",className:"flex items-center bg-amber-100 text-amber-800 hover:bg-amber-100",children:[e.jsx(k,{className:"w-3 h-3 mr-1"}),"Urgente"]}):o<=7?e.jsxs(c,{variant:"secondary",className:"flex items-center bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:[e.jsx($,{className:"w-3 h-3 mr-1"}),"Esta semana"]}):e.jsxs(c,{variant:"secondary",className:"flex items-center bg-green-100 text-green-800 hover:bg-green-100",children:[e.jsx(C,{className:"w-3 h-3 mr-1"}),"A tiempo"]})},u=a=>{const l=f(a),o=b(l,s);return o<0?`Hace ${Math.abs(o)} día${Math.abs(o)!==1?"s":""}`:o===0?"Hoy":o===1?"Mañana":`En ${o} días`};return e.jsxs(w,{children:[e.jsx(G,{children:e.jsxs(R,{className:"flex items-center",children:[e.jsx(M,{className:"w-5 h-5 mr-2"}),"Lista de Entregas"]})}),e.jsxs(P,{className:"space-y-4",children:[r.map(a=>e.jsx(w,{className:`transition-all hover:shadow-md ${a.completed?"opacity-75 border-green-200 bg-green-50/30":""}`,children:e.jsx(P,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0 ${a.color}`}),e.jsxs("h3",{className:`font-medium text-base truncate ${a.completed?"text-muted-foreground line-through":"text-foreground"}`,children:[a.subject," - ",a.name]}),e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[a.completed&&e.jsxs(c,{variant:"secondary",className:"bg-green-100 text-green-800 hover:bg-green-100 text-xs",children:[e.jsx(C,{className:"w-3 h-3 mr-1"}),"Completada"]}),!a.completed&&d(a.date)]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:g(f(a.date),"d 'de' MMM yyyy",{locale:v})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:u(a.date)})]})]}),e.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 mb-3",children:[e.jsx("div",{className:"text-sm font-medium text-foreground mb-1",children:"Período de estudio recomendado"}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Inicio:"}),e.jsx("span",{children:g(a.startDate,"d 'de' MMM",{locale:v})}),e.jsx("span",{className:"font-medium",children:"• Fin:"}),e.jsx("span",{children:g(a.endDate,"d 'de' MMM",{locale:v})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Duración:"}),e.jsxs("span",{children:[a.studyDays," días"]}),a.warning&&e.jsxs(c,{variant:"outline",className:"text-chart-3 border-chart-3 text-xs ml-2",children:[e.jsx(k,{className:"w-3 h-3 mr-1"}),"Poco tiempo"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(oe,{value:(()=>{if(a.studyDays<=0)return 0;const l=s<a.startDate?a.startDate:s>a.endDate?a.endDate:s,o=m(a.endDate,a.startDate);if(o===0)return s>=a.startDate?100:0;const y=o+1,H=Math.min(y,Math.max(0,m(l,a.startDate)+1));return Math.max(0,Math.min(100,H/y*100))})(),className:`h-2 ${h(a.endDate,s)?"[&>div]:bg-destructive":m(a.endDate,s)<=3?"[&>div]:bg-chart-3":"[&>div]:bg-chart-1"}`}),e.jsx("div",{className:"text-xs text-muted-foreground",children:(()=>{if(h(a.endDate,s))return"Entrega vencida";if(Y(s,a.startDate)){const l=b(a.endDate,s);return l<=0?"Ultimo dia de estudio":`Quedan ${l} dias`}return"Periodo de estudio no iniciado"})()})]})]}),e.jsxs("div",{className:"flex flex-col gap-1 flex-shrink-0",children:[e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>i(a.id),className:a.completed?"text-green-600 hover:bg-green-100":"text-muted-foreground hover:bg-muted",title:a.completed?"Marcar como pendiente":"Marcar como completada",children:e.jsx(Q,{className:"w-4 h-4"})}),e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>t(a),className:"text-chart-1 hover:bg-chart-1/10",title:"Editar entrega",children:e.jsx(J,{className:"w-4 h-4"})}),e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>n(a.id),className:"text-destructive hover:bg-destructive/10",title:"Eliminar entrega",children:e.jsx(K,{className:"w-4 h-4"})})]})]})})},a.id)),r.length===0&&e.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No hay entregas para mostrar"})]})]})};export{ue as default};
