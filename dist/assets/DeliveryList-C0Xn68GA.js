import{r as B,t as j,d as m,c as F,j as e,S as H,a as I,b as L,e as S,f as O,P as A,C as N,g as U,h as X,i as y,k as w,l as D,m as g,n as v,p as h,o as M,A as P,B as f,q,s as G}from"./index-6Wjq4IYt.js";import{P as R,T as Y}from"./trash-2-qZJMSBoM.js";function C(r,s){var n=r.getFullYear()-s.getFullYear()||r.getMonth()-s.getMonth()||r.getDate()-s.getDate()||r.getHours()-s.getHours()||r.getMinutes()-s.getMinutes()||r.getSeconds()-s.getSeconds()||r.getMilliseconds()-s.getMilliseconds();return n<0?-1:n>0?1:n}function $(r,s){B(2,arguments);var n=j(r),i=j(s),t=C(n,i),d=Math.abs(m(n,i));n.setDate(n.getDate()-t*d);var u=+(C(n,i)===-t),a=t*(d-u);return a===0?0:a}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=F("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),J=L("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c({className:r,variant:s,asChild:n=!1,...i}){const t=n?H:"span";return e.jsx(t,{"data-slot":"badge",className:I(J({variant:s}),r),...i})}var p="Progress",b=100,[K]=O(p),[W,Z]=K(p),V=S.forwardRef((r,s)=>{const{__scopeProgress:n,value:i=null,max:t,getValueLabel:d=ee,...u}=r;(t||t===0)&&!k(t)&&console.error(ae(`${t}`,"Progress"));const a=k(t)?t:b;i!==null&&!E(i,a)&&console.error(re(`${i}`,"Progress"));const l=E(i,a)?i:null,o=x(l)?d(l,a):void 0;return e.jsx(W,{scope:n,value:l,max:a,children:e.jsx(A.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":x(l)?l:void 0,"aria-valuetext":o,role:"progressbar","data-state":z(l,a),"data-value":l??void 0,"data-max":a,...u,ref:s})})});V.displayName=p;var T="ProgressIndicator",_=S.forwardRef((r,s)=>{const{__scopeProgress:n,...i}=r,t=Z(T,n);return e.jsx(A.div,{"data-state":z(t.value,t.max),"data-value":t.value??void 0,"data-max":t.max,...i,ref:s})});_.displayName=T;function ee(r,s){return`${Math.round(r/s*100)}%`}function z(r,s){return r==null?"indeterminate":r===s?"complete":"loading"}function x(r){return typeof r=="number"}function k(r){return x(r)&&!isNaN(r)&&r>0}function E(r,s){return x(r)&&!isNaN(r)&&r<=s&&r>=0}function ae(r,s){return`Invalid prop \`max\` of value \`${r}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${b}\`.`}function re(r,s){return`Invalid prop \`value\` of value \`${r}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${b} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var se=V,te=_;function ne({className:r,value:s,...n}){return e.jsx(se,{"data-slot":"progress",className:I("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",r),...n,children:e.jsx(te,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})}const oe=({schedule:r,onEdit:s,onDelete:n,onToggleComplete:i})=>{const t=new Date,d=a=>{const l=h(a),o=$(l,t);return G(l,t)?e.jsxs(c,{variant:"destructive",className:"flex items-center",children:[e.jsx(Q,{className:"w-3 h-3 mr-1"}),"Vencida"]}):o<=3?e.jsxs(c,{variant:"secondary",className:"flex items-center bg-amber-100 text-amber-800 hover:bg-amber-100",children:[e.jsx(P,{className:"w-3 h-3 mr-1"}),"Urgente"]}):o<=7?e.jsxs(c,{variant:"secondary",className:"flex items-center bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:[e.jsx(M,{className:"w-3 h-3 mr-1"}),"Esta semana"]}):e.jsxs(c,{variant:"secondary",className:"flex items-center bg-green-100 text-green-800 hover:bg-green-100",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),"A tiempo"]})},u=a=>{const l=h(a),o=$(l,t);return o<0?`Hace ${Math.abs(o)} día${Math.abs(o)!==1?"s":""}`:o===0?"Hoy":o===1?"Mañana":`En ${o} días`};return e.jsxs(N,{children:[e.jsx(U,{children:e.jsxs(X,{className:"flex items-center",children:[e.jsx(y,{className:"w-5 h-5 mr-2"}),"Lista de Entregas"]})}),e.jsxs(w,{className:"space-y-4",children:[r.map(a=>e.jsx(N,{className:`transition-all hover:shadow-md ${a.completed?"opacity-75 border-green-200 bg-green-50/30":""}`,children:e.jsx(w,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full flex-shrink-0 ${a.color}`}),e.jsxs("h3",{className:`font-medium text-base truncate ${a.completed?"text-muted-foreground line-through":"text-foreground"}`,children:[a.subject," - ",a.name]}),e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[a.completed&&e.jsxs(c,{variant:"secondary",className:"bg-green-100 text-green-800 hover:bg-green-100 text-xs",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),"Completada"]}),!a.completed&&d(a.date)]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{children:g(h(a.date),"d 'de' MMM yyyy",{locale:v})})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx("span",{children:u(a.date)})]})]}),e.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 mb-3",children:[e.jsx("div",{className:"text-sm font-medium text-foreground mb-1",children:"Período de estudio recomendado"}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Inicio:"}),e.jsx("span",{children:g(a.startDate,"d 'de' MMM",{locale:v})}),e.jsx("span",{className:"font-medium",children:"Fin:"}),e.jsx("span",{children:g(a.endDate,"d 'de' MMM",{locale:v})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Duración:"}),e.jsxs("span",{children:[a.studyDays," días"]}),a.warning&&e.jsxs(c,{variant:"outline",className:"text-chart-3 border-chart-3 text-xs ml-2",children:[e.jsx(P,{className:"w-3 h-3 mr-1"}),"Poco tiempo"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ne,{value:(()=>{if(a.studyDays<=0||t<=a.startDate)return 0;if(t>=a.endDate)return 100;const l=Math.max(1,m(a.endDate,a.startDate)+1),o=Math.max(0,m(t,a.startDate));return Math.max(0,Math.min(100,o/l*100))})(),className:`h-2 ${t>=a.endDate?"[&>div]:bg-destructive":m(a.endDate,t)<=3?"[&>div]:bg-chart-3":"[&>div]:bg-chart-1"}`}),e.jsx("div",{className:"text-xs text-muted-foreground",children:(()=>{const l=m(a.endDate,t);return l<0?"Entrega vencida":t<a.startDate?"Periodo de estudio no iniciado":l===0?"Último día de estudio":`Quedan ${l} días`})()})]})]}),e.jsxs("div",{className:"flex flex-col gap-1 flex-shrink-0",children:[e.jsx(f,{variant:"ghost",size:"sm",onClick:()=>i(a.id),className:a.completed?"text-green-600 hover:bg-green-100":"text-muted-foreground hover:bg-muted",title:a.completed?"Marcar como pendiente":"Marcar como completada",children:e.jsx(q,{className:"w-4 h-4"})}),e.jsx(f,{variant:"ghost",size:"sm",onClick:()=>s(a),className:"text-chart-1 hover:bg-chart-1/10",title:"Editar entrega",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx(f,{variant:"ghost",size:"sm",onClick:()=>n(a.id),className:"text-destructive hover:bg-destructive/10",title:"Eliminar entrega",children:e.jsx(Y,{className:"w-4 h-4"})})]})]})})},a.id)),r.length===0&&e.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No hay entregas para mostrar"})]})]})};export{oe as default};
